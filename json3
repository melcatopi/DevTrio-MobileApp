ãŠã£ã€è§£æ±ºã—ãŸã‚“ã ï¼ã‚ˆã‹ã£ãŸã€œğŸ˜†

ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹æ©Ÿèƒ½è¿½åŠ ã—ãŸã‚ˆï¼ãƒã‚§ãƒƒã‚¯ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã ã‘æ¤œç´¢ã§ãã‚‹ã‚ˆã†ã«ã—ãŸã‹ã‚‰è©¦ã—ã¦ã¿ã¦ã€œâœ¨

```html
<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>JSON Viewer</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { 
      font-family: 'Segoe UI', sans-serif; 
      height: 100vh; 
      display: flex; 
      flex-direction: column;
    }
    .container { 
      display: flex; 
      height: calc(100vh - 60px); 
    }
    .header {
      padding: 15px;
      background: #2c3e50;
      color: white;
      display: flex;
      gap: 10px;
      align-items: center;
    }
    .file-list {
      width: 300px;
      border-right: 2px solid #ddd;
      overflow-y: auto;
      background: #f8f9fa;
      display: flex;
      flex-direction: column;
    }
    .file-list-header {
      padding: 10px 15px;
      background: #e9ecef;
      border-bottom: 2px solid #ddd;
      display: flex;
      align-items: center;
      gap: 8px;
      font-weight: bold;
      position: sticky;
      top: 0;
      z-index: 10;
    }
    .file-item {
      padding: 10px 15px;
      cursor: pointer;
      border-bottom: 1px solid #dee2e6;
      transition: background 0.2s;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    .file-item:hover { background: #e9ecef; }
    .file-item.active { background: #007bff; color: white; }
    .file-item input[type="checkbox"] {
      cursor: pointer;
      width: 16px;
      height: 16px;
    }
    .file-item label {
      cursor: pointer;
      flex: 1;
      user-select: none;
    }
    .right-panel {
      flex: 1;
      display: flex;
      flex-direction: column;
      padding: 20px;
    }
    .search-box {
      display: flex;
      gap: 10px;
      margin-bottom: 20px;
      flex-wrap: wrap;
    }
    input[type="text"] {
      flex: 1;
      min-width: 200px;
      padding: 10px;
      border: 2px solid #ddd;
      border-radius: 4px;
      font-size: 14px;
    }
    button {
      padding: 10px 20px;
      background: #007bff;
      color: white;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 13px;
    }
    button:hover { background: #0056b3; }
    button.debug { background: #28a745; }
    button.debug:hover { background: #218838; }
    button.warning { background: #ffc107; color: #000; }
    button.warning:hover { background: #e0a800; }
    .results {
      flex: 1;
      overflow-y: auto;
      border: 2px solid #ddd;
      border-radius: 4px;
      padding: 15px;
      background: white;
    }
    .result-item {
      padding: 12px;
      margin-bottom: 10px;
      background: #f8f9fa;
      border-left: 4px solid #007bff;
      border-radius: 4px;
    }
    .result-file {
      font-weight: bold;
      color: #495057;
      margin-bottom: 5px;
    }
    .result-value {
      color: #212529;
      word-break: break-all;
      white-space: pre-wrap;
      font-family: monospace;
      font-size: 13px;
    }
    .info {
      padding: 10px;
      background: #d1ecf1;
      border-left: 4px solid #0c5460;
      margin-bottom: 10px;
      border-radius: 4px;
    }
    .error {
      padding: 10px;
      background: #f8d7da;
      border-left: 4px solid #721c24;
      margin-bottom: 10px;
      border-radius: 4px;
    }
    .warning {
      padding: 10px;
      background: #fff3cd;
      border-left: 4px solid #856404;
      margin-bottom: 10px;
      border-radius: 4px;
    }
    .debug-info {
      padding: 10px;
      background: #d4edda;
      border-left: 4px solid #28a745;
      margin-bottom: 10px;
      border-radius: 4px;
      font-family: monospace;
      font-size: 12px;
      white-space: pre-wrap;
    }
  </style>
</head>
<body>
  <div class="header">
    <input type="file" id="fileInput" multiple accept=".json" style="color: white;">
    <span id="fileCount">0 files loaded</span>
    <span id="checkedCount" style="margin-left: 10px;">0 checked</span>
  </div>

  <div class="container">
    <div class="file-list">
      <div class="file-list-header">
        <input type="checkbox" id="checkAll" onchange="toggleAllChecks()">
        <label for="checkAll">å…¨é¸æŠ/è§£é™¤</label>
      </div>
      <div id="fileList"></div>
    </div>
    
    <div class="right-panel">
      <div class="search-box">
        <input type="text" id="searchPath" placeholder="ä¾‹: a.b.description or description" />
        <button onclick="searchAll()">å…¨æ¤œç´¢</button>
        <button onclick="searchChecked()" class="warning">ãƒã‚§ãƒƒã‚¯æ¸ˆã®ã¿æ¤œç´¢</button>
        <button onclick="searchCurrent()">ç¾åœ¨ã®ãƒ•ã‚¡ã‚¤ãƒ«</button>
        <button onclick="showStructure()" class="debug">æ§‹é€ ç¢ºèª</button>
      </div>
      
      <div class="results" id="results">
        <div class="info">
          ğŸ“ ä¸Šéƒ¨ã§JSONãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠã—ã¦ãã ã•ã„<br>
          â˜‘ï¸ ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã§æ¤œç´¢å¯¾è±¡ã‚’çµã‚Šè¾¼ã‚ã¾ã™<br>
          ğŸ” æ¤œç´¢ãƒ‘ã‚¹ã®ä¾‹: "a.b.description" ã¾ãŸã¯ "description"<br>
          ğŸ› ã€Œæ§‹é€ ç¢ºèªã€ãƒœã‚¿ãƒ³ã§é¸æŠä¸­ã®JSONãƒ•ã‚¡ã‚¤ãƒ«ã®æ§‹é€ ã‚’ç¢ºèªã§ãã¾ã™
        </div>
      </div>
    </div>
  </div>

  <script>
    let jsonFiles = [];
    let currentFileIndex = -1;

    // ãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿
    document.getElementById('fileInput').addEventListener('change', async (e) => {
      const files = Array.from(e.target.files);
      jsonFiles = [];
      
      for (const file of files) {
        try {
          const text = await file.text();
          const data = JSON.parse(text);
          jsonFiles.push({ 
            name: file.name, 
            data: data,
            checked: false 
          });
          console.log(`Loaded: ${file.name}`, data);
        } catch (err) {
          console.error(`Error loading ${file.name}:`, err);
        }
      }
      
      displayFileList();
      updateCounts();
      
      if (jsonFiles.length > 0) {
        console.log('å…¨ãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿å®Œäº†:', jsonFiles);
      }
    });

    // ãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§è¡¨ç¤º
    function displayFileList() {
      const listEl = document.getElementById('fileList');
      listEl.innerHTML = jsonFiles.map((f, i) => 
        `<div class="file-item ${currentFileIndex === i ? 'active' : ''}" onclick="selectFile(${i})">
          <input type="checkbox" 
                 id="check${i}" 
                 ${f.checked ? 'checked' : ''} 
                 onclick="event.stopPropagation(); toggleCheck(${i})" />
          <label for="check${i}" onclick="event.stopPropagation(); toggleCheck(${i})">${f.name}</label>
        </div>`
      ).join('');
    }

    // ãƒã‚§ãƒƒã‚¯åˆ‡ã‚Šæ›¿ãˆ
    function toggleCheck(index) {
      jsonFiles[index].checked = !jsonFiles[index].checked;
      updateCounts();
      console.log(`${jsonFiles[index].name}: ${jsonFiles[index].checked ? 'ãƒã‚§ãƒƒã‚¯' : 'ãƒã‚§ãƒƒã‚¯è§£é™¤'}`);
    }

    // å…¨é¸æŠ/è§£é™¤
    function toggleAllChecks() {
      const checkAll = document.getElementById('checkAll').checked;
      jsonFiles.forEach(f => f.checked = checkAll);
      displayFileList();
      updateCounts();
      console.log(`å…¨ãƒ•ã‚¡ã‚¤ãƒ«: ${checkAll ? 'ãƒã‚§ãƒƒã‚¯' : 'ãƒã‚§ãƒƒã‚¯è§£é™¤'}`);
    }

    // ã‚«ã‚¦ãƒ³ãƒˆæ›´æ–°
    function updateCounts() {
      const checkedCount = jsonFiles.filter(f => f.checked).length;
      document.getElementById('fileCount').textContent = `${jsonFiles.length} files loaded`;
      document.getElementById('checkedCount').textContent = `${checkedCount} checked`;
      
      // å…¨é¸æŠãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã®çŠ¶æ…‹æ›´æ–°
      const checkAllEl = document.getElementById('checkAll');
      if (checkedCount === 0) {
        checkAllEl.checked = false;
        checkAllEl.indeterminate = false;
      } else if (checkedCount === jsonFiles.length) {
        checkAllEl.checked = true;
        checkAllEl.indeterminate = false;
      } else {
        checkAllEl.checked = false;
        checkAllEl.indeterminate = true;
      }
    }

    // ãƒ•ã‚¡ã‚¤ãƒ«é¸æŠ
    function selectFile(index) {
      currentFileIndex = index;
      displayFileList();
      
      const resultsEl = document.getElementById('results');
      resultsEl.innerHTML = `
        <div class="info">
          ğŸ“„ é¸æŠä¸­: ${jsonFiles[index].name}<br>
          ğŸ” æ¤œç´¢ãƒ‘ã‚¹ã‚’å…¥åŠ›ã—ã¦æ¤œç´¢ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„<br>
          ğŸ› ã€Œæ§‹é€ ç¢ºèªã€ãƒœã‚¿ãƒ³ã§ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã®ä¸­èº«ã‚’ç¢ºèªã§ãã¾ã™
        </div>
      `;
      
      console.log('é¸æŠã—ãŸãƒ•ã‚¡ã‚¤ãƒ«:', jsonFiles[index]);
    }

    // æ§‹é€ ç¢ºèªï¼ˆãƒ‡ãƒãƒƒã‚°ç”¨ï¼‰
    function showStructure() {
      if (currentFileIndex === -1) {
        alert('ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠã—ã¦ãã ã•ã„');
        return;
      }

      const file = jsonFiles[currentFileIndex];
      const jsonStr = JSON.stringify(file.data, null, 2);
      
      // ã‚­ãƒ¼ã®ãƒ‘ã‚¹ã‚’æŠ½å‡º
      const paths = extractPaths(file.data);
      
      const resultsEl = document.getElementById('results');
      resultsEl.innerHTML = `
        <div class="info">ğŸ“„ ${file.name} ã®æ§‹é€ </div>
        <div class="debug-info">åˆ©ç”¨å¯èƒ½ãªãƒ‘ã‚¹ä¸€è¦§:
${paths.join('\n')}</div>
        <div class="debug-info">JSONå…¨ä½“:
${jsonStr}</div>
      `;
      
      console.log('ãƒ•ã‚¡ã‚¤ãƒ«æ§‹é€ :', file.data);
      console.log('åˆ©ç”¨å¯èƒ½ãªãƒ‘ã‚¹:', paths);
    }

    // ãƒ‘ã‚¹æŠ½å‡ºï¼ˆå†å¸°çš„ã«å…¨ã¦ã®ãƒ‘ã‚¹ã‚’å–å¾—ï¼‰
    function extractPaths(obj, prefix = '') {
      const paths = [];
      
      for (const key in obj) {
        const newPath = prefix ? `${prefix}.${key}` : key;
        paths.push(newPath);
        
        if (obj[key] && typeof obj[key] === 'object' && !Array.isArray(obj[key])) {
          paths.push(...extractPaths(obj[key], newPath));
        }
      }
      
      return paths;
    }

    // å€¤ã‚’å–å¾—ï¼ˆãƒã‚¹ãƒˆã•ã‚ŒãŸãƒ‘ã‚¹å¯¾å¿œï¼‰
    function getValueByPath(obj, path) {
      return path.split('.').reduce((current, key) => {
        return current && current[key] !== undefined ? current[key] : null;
      }, obj);
    }

    // å…¨ãƒ•ã‚¡ã‚¤ãƒ«æ¤œç´¢
    function searchAll() {
      const path = document.getElementById('searchPath').value.trim();
      if (!path) {
        alert('æ¤œç´¢ãƒ‘ã‚¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');
        return;
      }

      console.log(`å…¨ãƒ•ã‚¡ã‚¤ãƒ«æ¤œç´¢é–‹å§‹: "${path}"`);
      const results = [];
      
      jsonFiles.forEach(file => {
        const value = getValueByPath(file.data, path);
        if (value !== null && value !== undefined) {
          results.push({
            file: file.name,
            value: typeof value === 'object' ? JSON.stringify(value, null, 2) : value
          });
        }
      });

      console.log('æ¤œç´¢çµæœ:', results);
      displayResults(results, `"${path}" ã®å…¨ãƒ•ã‚¡ã‚¤ãƒ«æ¤œç´¢çµæœ`);
    }

    // ãƒã‚§ãƒƒã‚¯æ¸ˆã¿ãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿æ¤œç´¢
    function searchChecked() {
      const path = document.getElementById('searchPath').value.trim();
      if (!path) {
        alert('æ¤œç´¢ãƒ‘ã‚¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');
        return;
      }

      const checkedFiles = jsonFiles.filter(f => f.checked);
      
      if (checkedFiles.length === 0) {
        alert('ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã«ãƒã‚§ãƒƒã‚¯ã‚’å…¥ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚ã‚Šã¾ã›ã‚“');
        return;
      }

      console.log(`ãƒã‚§ãƒƒã‚¯æ¸ˆã¿ãƒ•ã‚¡ã‚¤ãƒ«æ¤œç´¢é–‹å§‹: "${path}" (${checkedFiles.length}ä»¶)`);
      const results = [];
      
      checkedFiles.forEach(file => {
        const value = getValueByPath(file.data, path);
        if (value !== null && value !== undefined) {
          results.push({
            file: file.name,
            value: typeof value === 'object' ? JSON.stringify(value, null, 2) : value
          });
        }
      });

      console.log('æ¤œç´¢çµæœ:', results);
      displayResults(results, `"${path}" ã®ãƒã‚§ãƒƒã‚¯æ¸ˆã¿ãƒ•ã‚¡ã‚¤ãƒ«æ¤œç´¢çµæœ (${checkedFiles.length}ä»¶ä¸­)`);
    }

    // ç¾åœ¨ã®ãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿æ¤œç´¢
    function searchCurrent() {
      if (currentFileIndex === -1) {
        alert('ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠã—ã¦ãã ã•ã„');
        return;
      }

      const path = document.getElementById('searchPath').value.trim();
      if (!path) {
        alert('æ¤œç´¢ãƒ‘ã‚¹ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„');
        return;
      }

      console.log(`ç¾åœ¨ã®ãƒ•ã‚¡ã‚¤ãƒ«æ¤œç´¢: "${path}"`);
      const file = jsonFiles[currentFileIndex];
      const value = getValueByPath(file.data, path);
      
      if (value !== null && value !== undefined) {
        displayResults([{
          file: file.name,
          value: typeof value === 'object' ? JSON.stringify(value, null, 2) : value
        }], `"${path}" ã®æ¤œç´¢çµæœ`);
      } else {
        displayResults([], `"${path}" ã®æ¤œç´¢çµæœ`);
      }
    }

    // çµæœè¡¨ç¤º
    function displayResults(results, title) {
      const resultsEl = document.getElementById('results');
      
      if (results.length === 0) {
        resultsEl.innerHTML = `
          <div class="error">
            âŒ ${title}: è©²å½“ã™ã‚‹å€¤ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸ<br>
            ğŸ’¡ ã€Œæ§‹é€ ç¢ºèªã€ãƒœã‚¿ãƒ³ã§ãƒ•ã‚¡ã‚¤ãƒ«ã®å®Ÿéš›ã®æ§‹é€ ã‚’ç¢ºèªã—ã¦ãã ã•ã„
          </div>
        `;
        return;
      }

      resultsEl.innerHTML = `
        <div class="info">âœ… ${title}: ${results.length}ä»¶è¦‹ã¤ã‹ã‚Šã¾ã—ãŸ</div>
        ${results.map(r => `
          <div class="result-item">
            <div class="result-file">ğŸ“„ ${r.file}</div>
            <div class="result-value">${escapeHtml(String(r.value))}</div>
          </div>
        `).join('')}
      `;
    }

    // HTMLã‚¨ã‚¹ã‚±ãƒ¼ãƒ—
    function escapeHtml(text) {
      const div = document.createElement('div');
      div.textContent = text;
      return div.innerHTML;
    }

    // Enterã‚­ãƒ¼ã§æ¤œç´¢
    document.getElementById('searchPath').addEventListener('keypress', (e) => {
      if (e.key === 'Enter') searchAll();
    });
  </script>
</body>
</html>
```

## è¿½åŠ ã—ãŸæ©Ÿèƒ½ âœ¨

1. **å„ãƒ•ã‚¡ã‚¤ãƒ«ã«ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹** - ã‚¯ãƒªãƒƒã‚¯ã§ON/OFF
2. **å…¨é¸æŠ/è§£é™¤ãƒœã‚¿ãƒ³** - ä¸Šéƒ¨ã§ä¸€æ‹¬æ“ä½œ
3. **ã€Œãƒã‚§ãƒƒã‚¯æ¸ˆã®ã¿æ¤œç´¢ã€ãƒœã‚¿ãƒ³** - ãƒã‚§ãƒƒã‚¯ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã ã‘æ¤œç´¢
4. **ãƒã‚§ãƒƒã‚¯æ•°è¡¨ç¤º** - ãƒ˜ãƒƒãƒ€ãƒ¼ã«"â—‹ checked"ã£ã¦å‡ºã‚‹
5. **åŠé¸æŠçŠ¶æ…‹å¯¾å¿œ** - ä¸€éƒ¨ã ã‘ãƒã‚§ãƒƒã‚¯ã—ã¦ã‚‹ã¨å…¨é¸æŠãƒœãƒƒã‚¯ã‚¹ãŒ"-"ã«ãªã‚‹

ä½¿ã„æ–¹ã¯ç°¡å˜ï¼ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹ã«ãƒã‚§ãƒƒã‚¯å…¥ã‚Œã¦ã€Œãƒã‚§ãƒƒã‚¯æ¸ˆã®ã¿æ¤œç´¢ã€ãƒœã‚¿ãƒ³æŠ¼ã™ã ã‘ã€œğŸ˜Š

8000ãƒ•ã‚¡ã‚¤ãƒ«ã‚ã£ã¦ã‚‚ã€ã¾ãšå…¨æ¤œç´¢ã—ã¦ã€æ°—ã«ãªã‚‹ã‚„ã¤ã ã‘ãƒã‚§ãƒƒã‚¯å…¥ã‚Œã¦çµã‚Šè¾¼ã¿æ¤œç´¢ã€ã¿ãŸã„ãªä½¿ã„æ–¹ã§ãã‚‹ã‚ˆï¼ğŸ’ª